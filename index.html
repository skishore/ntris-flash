<head>
  <link rel="stylesheet" type="text/css" href="static/jquery-ui.css">
  <link rel="stylesheet" type="text/css" href="static/ntris.css">

  <script type="text/javascript" src="static/jquery-1.8.3.js"></script>
  <script type="text/javascript" src="static/jquery-ui.js"></script>
  <script type="text/javascript" src="static/swfobject.js"></script>
  <script type="text/javascript" src="static/ntris_ui.js"></script>
  <script type="text/javascript" src="static/ntris.js"></script>
</head>

<body bgcolor=white onload="ntris.initialize()">
  <object id="socket_bridge" data="socket_bridge/socket_bridge.swf"
    type="application/x-shockwave-flash">
  </object>

  <center>
    <div id="topbar" class="leftalign connecting">
      Status: connecting to server...
    </div>
    <div id="tabs" class="leftalign">
      <ul id="tablist">
        <!--
        <button id="settings">Change settings</button>
        <button id="highscores">View high scores</button>
        -->
        <button class="logged-in" onclick="ntris.logout()">
          Log out
        </button>
        <button class="logged-out" onclick="ntris.ui.show_dialog('signup')">
          Sign up
        </button>
        <button class="logged-out" onclick="ntris.ui.show_dialog('login')">
          Log in
        </button>
        <button onclick="ntris.ui.show_dialog('create-room')">
          Create room
        </button>
        <!--button onclick="ntris.play_singleplayer()">
          Play singleplayer
        </button-->
      </ul>
    </div>
  </center>
</body>

<div id="room-prototype" class="hidden prototype">
  <div class="left-side">
    <div class="large-boards"></div>
    <div class="boards">
      <div class="left-side container">
        <div class="header">
          Welcome to ntris!
        </div>
        <div class="welcome-message">
          This is the new ntris multiplayer webapp!
          <ul class="instructions">
            <li>You can play singleplayer games in the lobby.</li>
            <li>To play a multiplayer game, click "Create game" in the top right.</li>
            <li>More instructions coming soon!</li>
          </ul>
        </div>
      </div>
      <div class="left-side container">
        <div class="header">
          Games:
        </div>
        <ul class="rooms">
          <li><a href="#"><span style="font-weight: bold;">Sprint to 100</span> - Grand Windchamber (7/7)<br>
                          <span style="font-size: 10px">skishore, wuthefwasthat, spartacus, singularity, lknight, pchrist, brilee, bhamrick</span></a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="right-side">
    <div class="container">
      <div class="header">
        Users:
      </div>
      <ul class="users"></ul>
    </div>
    <div class="container">
      <div class="header">
        Rooms:
      </div>
      <ul class="rooms"></ul>
    </div>

    <div class="large container">
      <div class="header">
        Chat:
      </div>
      <div class="chatbox"></div>
      <div class="short header">
        Message:
      </div>
      <input type="text" class="chat">
    </div>
  </div>
</div>

<div id="multiplayer-prototype" class="hidden prototype">
  <div class="multiplayer">
    <div class="multiplayer-rules">
      <div>No one has proposed rules for a multiplayer game yet.</div>
    </div>
    <button class="create-game" onclick="ntris.ui.show_create_game_dialog(this)">
      Play multiplayer!
    </button>
    <button class="accept-game hidden">Accept</button>
    <button class="reject-game hidden">Reject</button>
  </div>
</div>

<div id="login-dialog" title="Log in">
  <form><fieldset>
    <table>
      <tr>
        <td><label for="login-username">Username:</label></td>
        <td><input type="text" id="login-username"></td>
      </tr>
      <tr>
        <td><label for="login-password">Password:</label></td>
        <td><input type="password" id="login-password"></td>
      </tr>
    </table>
  </fieldset></form>
  <div id="login-error" class="error"></div>
</div>

<div id="signup-dialog" title="Sign up">
  <form><fieldset>
    <table>
      <tr>
        <td><label for="signup-username">Username:</label></td>
        <td><input type="text" id="signup-username"></td>
      </tr>
      <tr>
        <td><label for="signup-email">Email (optional):</label></td>
        <td><input type="text" id="signup-email"></td>
      </tr>
      <tr>
        <td><label for="signup-password">Password:</label></td>
        <td><input type="password" id="signup-password"></td>
      </tr>
      <tr>
        <td><label for="retype-password">Retype password:</label></td>
        <td><input type="password" id="retype-password"></td>
      </tr>
    </table>
  </fieldset></form>
  <div id="signup-error" class="error"></div>
</div>

<div id="create-room-dialog" title="Create a new room">
  <form><fieldset>
    <table>
      <tr>
        <td><label for="create-room-name">Room name:</label></td>
        <td><input type="text" id="create-room-name"></td>
      </tr>
    </table>
  </fieldset></form>
  <div id="create-room-error" class="error"></div>
</div>

<div id="join-room-dialog" title="Room details">
  <div id="room-details"></div>
  <div id="room-membership"></div>
  <div id="join-room-error" class="error"></div>
</div>

<div id="create-game-dialog" title="Propose a game">
  <form><fieldset>
    <table>
      <tr>
        <td><label for="game-type">Game type:</label></td>
        <td>
          <select id="game-type">
            <option value="battle">Battle</option>
            <option value="sprint">Sprint</option>
          </select>
        </td>
      </tr>
      <tr id="point-target-row" class="hidden">
        <td><label for="point-target">Point target:</label></td>
        <td>
          <span id="point-target-value">50</span>
          <div id="point-target"></div>
        </td>
      </tr>
      <input type="text" id="create-game-room" class="hidden">
    </table>
  </fieldset></form>
  <div id="create-game-error" class="error"></div>
</div>
